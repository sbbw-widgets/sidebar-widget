import{e as I,r as l,j as e,C as N,a as h,S as k,b as w,T as S,I as B,c as T,d as O,f as $,g as z,F as M,B as E,H as m,h as R,V as f,i as W,k as H,l as j,m as _,n as b,o as q,p as V,q as G,s as K,t as Z,M as J,A as Q,G as U,R as X,u as Y,v as ee,w as te,x as ne,y as re,z as se}from"./vendor.6d73b92c.js";const oe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const g of o.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}};oe();const L={styles:{global:n=>({body:{bg:"transparent"}})}};I({colors:{background:"#f5f5f5",text:"#404040",primary:"#eaeaea",secondary:"#eaeaee",highlight:"#606060",warning:"#EBCB8B",success:"#A3BE8C",danger:"#BF616A"},styles:L.styles});const ae=I({colors:{background:"#2e3440",text:"#d8dee9",primary:"#3B4252",secondary:"#434C5E",highlight:"#4C566A",warning:"#EBCB8B",success:"#A3BE8C",danger:"#BF616A"},styles:L.styles}),C=n=>n<10?`0${n}`:n,ie=()=>{let n=new Date,t=new Intl.DateTimeFormat("default",{month:"2-digit",day:"2-digit",year:"numeric"}).format(n);const[s,c]=l.exports.useState(`${C(n.getHours())}:${C(n.getMinutes())}`),[r,o]=l.exports.useState(`${t}`);return l.exports.useEffect(()=>{const g=setInterval(()=>{let i=new Date,d=new Intl.DateTimeFormat("default",{month:"2-digit",day:"2-digit",year:"numeric"}).format(i);c(`${C(i.getHours())}:${C(i.getMinutes())}`),o(`${d}`)},1e3);return()=>clearInterval(g)},[s]),e(l.exports.Fragment,{children:e(N,{children:h(k,{children:[e(w,{children:e(S,{unselectable:"on",fontSize:"8xl",color:"text",fontWeight:"bold",children:s})}),e(w,{children:e(S,{unselectable:"on",color:"text",fontWeight:"bold",children:r})})]})})})},A=({icon:n,min:t,max:s,value:c,readOnly:r,onChangeValue:o})=>{const[g,i]=l.exports.useState(c),d=u=>{i(u),o&&o(u)};return e(l.exports.Fragment,{children:h(k,{isInline:!0,align:"center",spacing:2,justify:"center",direction:"row",width:"250px",mb:2,children:[n&&e(w,{width:7,height:7,children:e(B,{boxSize:7,color:"highlight",children:n})}),h(T,{isReadOnly:r,onChange:d,min:t,max:s,value:g,children:[e(O,{bg:"primary",children:e($,{bg:"highlight"})}),!r&&e(z,{bg:"highlight"})]})]})})};var le="/sidebar/ui/assets/album.75b432c5.png",ce="/sidebar/ui/assets/album.75b432c5.png";const p=({file:n,args:t})=>new Promise((s,c)=>{window.rpc.call(n,t).then(r=>{typeof r=="string"?(r=r.trim(),!r.toLowerCase().trim().includes("invalid")||!r.toLowerCase().trim().includes("unsupported")?s(r):c(r)):r.code==200?s(r.data):c(r)}).catch(c)}),he=()=>new Promise((n,t)=>{p({file:"python",args:["./brightness.py","get"]}).then(n).catch(t)}),ge=()=>new Promise((n,t)=>{p({file:"./volume",args:["get"]}).then(n).catch(t)}),de=()=>new Promise((n,t)=>{p({file:"python",args:["./mediactl.py","status"]}).then(n).catch(t)}),ue=()=>new Promise((n,t)=>{p({file:"python",args:["./mediactl.py","metadata"]}).then(n).catch(t)}),v=n=>new Promise((t,s)=>{p({file:"python",args:["./mediactl.py",n]}).then(t).catch(s)}),pe=n=>new Promise((t,s)=>{p({file:"python",args:["./brightness.py","set",`${n}`]}).then(t).catch(s)}),me=n=>new Promise((t,s)=>{p({file:"./volume",args:["set",`${n}`]}).then(t).catch(s)}),fe=()=>new Promise((n,t)=>{p({file:"python",args:["./power.py","poweroff"]}).then(n).catch(t)}),D=()=>new Promise((n,t)=>{p({file:"python",args:["./power.py","reboot"]}).then(n).catch(t)}),ye=()=>new Promise((n,t)=>{p({file:"python",args:["./power.py","suspend"]}).then(n).catch(t)}),P=({icon:n,onClick:t})=>e(b,{variant:"ghost",_hover:{background:"transparent"},icon:n,color:"highlight",colorScheme:"highlight",size:"lg",onClick:t}),xe=()=>{const[n,t]=l.exports.useState(!1),[s,c]=l.exports.useState({title:"Not Playing Music"}),r=()=>{n?v("pause").then(()=>{t(!1)}).catch(i=>{t(!1),console.log(i)}):v("play").then(()=>{t(!0)}).catch(i=>{t(!1),console.log(i)})},o=()=>{v("next").then(()=>{t(!0)}).catch(i=>{t(!1),console.log(i)})},g=()=>{v("prev").then(()=>{t(!0)}).catch(i=>{t(!1),console.log(i)})};return l.exports.useEffect(()=>{const i=()=>{de().then(u=>{console.log("status",u),t(u.toLowerCase()=="playing"),u.toLowerCase()!=="playing"?c({title:"Not Playing Music"}):ue().then(a=>{console.log("raw metadata",a);let y=a.split(`
`),F="";console.log("metas",y);for(let x=0;x<y.length;x++)y[x].includes("xesam:title")&&(console.log(y[x]),F=y[x].split("xesam:title")[1].trim());c({title:F})}).catch(console.error)}).catch(u=>{console.log("status",u),c({title:"Not Playing Music"})})},d=setInterval(()=>i(),1e4);return i(),()=>clearInterval(d)},[]),e(M,{children:e(E,{pb:"1.5rem",children:h(m,{p:"5",borderRadius:"10px",background:"primary",children:[e(R,{src:ce,htmlWidth:"80px",htmlHeight:"80px",borderRadius:"10%",fallbackSrc:le}),h(f,{width:"200px",overflow:"hidden",spacing:"2",children:[e(S,{className:"media_name_animated",whiteSpace:"nowrap",display:"inline-flex",color:"text",align:"center",children:s.title}),e(w,{children:h(m,{spacing:1,children:[e(P,{onClick:g,icon:e(W,{})}),e(P,{onClick:r,icon:n?e(H,{}):e(j,{})}),e(P,{onClick:o,icon:e(_,{})})]})})]})]})})})},we=(n,t)=>{let s=V;return n>50?s=G:s=K,n<=10&&(s=V),t?e(B,{as:q,color:"text"}):e(B,{as:s,color:"text"})},Se=()=>{const[n,t]=l.exports.useState(!1),[s,c]=l.exports.useState(100),[r,o]=l.exports.useState("charging");return l.exports.useEffect(()=>{const g=()=>{Z().then(d=>{console.log(d),c(d.percentage),o(d.state=="unknown"|"charging"),t(!0)}).catch(d=>{console.log(d),t(!1)})},i=setInterval(g,1e4);return g(),()=>clearInterval(i)},[]),e(M,{children:n&&h(m,{children:[we(s,r),h(S,{color:"text",fontWeight:"bold",children:[s,"%"]})]})})},be=()=>h(m,{spacing:4,children:[e(B,{as:J,color:"text"}),e(f,{spacing:0,children:e(S,{color:"text",fontWeight:"bold",children:"El WIFI"})})]}),Be=()=>h(m,{spacing:10,children:[e(b,{icon:e(Q,{}),variant:"outline",color:"danger",colorScheme:"danger",size:"lg",onClick:async()=>await fe()}),e(b,{icon:e(U,{}),variant:"outline",color:"warning",colorScheme:"warning",size:"lg",onClick:async()=>await ye()}),e(b,{icon:e(X,{}),variant:"outline",color:"highlight",colorScheme:"highlight",size:"lg",onClick:async()=>await D()}),e(b,{icon:e(Y,{}),variant:"outline",color:"text",colorScheme:"text",size:"lg",onClick:async()=>await D()})]}),Ce=()=>{const[n,t]=l.exports.useState(!1),[s,c]=l.exports.useState(0),[r,o]=l.exports.useState(!1),[g,i]=l.exports.useState(0),d=a=>{console.log("handleChangeBrightness",a),pe(a).then(console.log).catch(console.error)},u=a=>{console.log("handleChangeVolume",a),me(a).then(console.log).catch(console.error)};return l.exports.useEffect(()=>(console.log("useEffect"),he().then(a=>{a=a.match(/\d+/)[0],console.log("getBrightness",a),t(!0),c(parseInt(a))}).catch(a=>{console.log(a),t(!1)}),ge().then(a=>{a=a.match(/\d+/)[0],console.log("getVolume",a),o(!0),i(a)}).catch(a=>{console.log(a),o(!1)}),()=>{}),[]),e(l.exports.Fragment,{children:e(w,{children:h(f,{width:"100%",maxW:"100%",height:"100vh",px:4,m:0,pt:"3rem",bg:"background",children:[e(k,{mb:7,spacing:4,children:e(ie,{})}),e(xe,{}),h(f,{height:"100%",justifyContent:"space-between",children:[h(f,{children:[e(E,{paddingTop:"35px",paddingBottom:"35px",children:h(f,{spacing:4,children:[n&&e(A,{value:s,onChangeValue:d,icon:e(re,{}),min:10,max:100,readOnly:!1}),r&&e(A,{value:g,onChangeValue:u,icon:e(se,{}),min:0,max:100,readOnly:!1})]})}),h(m,{spacing:10,children:[e(Se,{}),e(be,{})]})]}),e(m,{py:20,children:e(Be,{})})]})]})})})},ve=()=>e(te,{resetCSS:!0,width:"100vw",height:"100vh",theme:ae,children:e(ne,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:e(Ce,{})})});ee.render(e(l.exports.StrictMode,{children:e(ve,{})}),document.getElementById("root"));
